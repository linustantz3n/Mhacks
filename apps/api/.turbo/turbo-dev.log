

> api@0.1.0 dev
> ts-node-dev --respawn --transpile-only src/main.ts

[1G[0K[[36mINFO[0m] [30;1m03:55:17[0m ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.4.5)
{"level":30,"time":1759046118201,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Server listening at http://127.0.0.1:4000"}
{"level":30,"time":1759046118206,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"API listening on http://127.0.0.1:4000"}
{"level":30,"time":1759046127543,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-1","req":{"method":"POST","url":"/linkedin/auth","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":57336},"msg":"incoming request"}
{"level":30,"time":1759046127544,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Starting LinkedIn browser authentication..."}
{"level":30,"time":1759046127545,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Initializing LinkedIn account with session file: linkedin_session_r64ofdmg3enans.pkl"}
{"level":40,"time":1759046153939,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn auth stderr: 2025-09-28 03:55:53,938 - StaffSpy - INFO - Testing if logged in by checking arbitrary LinkedIn company page"}
{"level":40,"time":1759046154470,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn auth stderr: 2025-09-28 03:55:54,470 - StaffSpy - INFO - Account successfully logged in - res code 200"}
{"level":40,"time":1759046154838,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn auth stderr: 2025-09-28 03:55:54,837 - StaffSpy - INFO - Fetching data for account ACoAAFN2poEBlQI-NEQITwIVTPjOqRtZGBK4jlg    1 / 1 - https://www.linkedin.com/in/linus-wang"}
{"level":40,"time":1759046155410,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn auth stderr: 2025-09-28 03:55:55,410 - StaffSpy - INFO - Scraped 1 users"}
{"level":30,"time":1759046155416,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn auth stdout: üîÑ Waiting for LinkedIn login completion (including any captcha)...\nüîÑ Still on login/captcha page: https://www.linkedin.com/login\nüîÑ Still on login/captcha page: https://www.linkedin.com/login\nüîÑ Still on login/captcha page: https://www.linkedin.com/checkpoint/challenge/AgFaBJDmPI8RkgAAAZmPUe00Xeapbjd37Lt5OQoe1TCsl4a7hY4JuHcoHj4Z2g7j_fFMO3o8PtMNGa_jnON2RABm9VfCBw?ut=2sBsEpfCgXmrY1\nüîÑ Still on login/captcha page: https://www.linkedin.com/checkpoint/challenge/AgFaBJDmPI8RkgAAAZmPUe00Xeapbjd37Lt5OQoe1TCsl4a7hY4JuHcoHj4Z2g7j_fFMO3o8PtMNGa_jnON2RABm9VfCBw?ut=2sBsEpfCgXmrY1\nüîÑ Still on login/captcha page: https://www.linkedin.com/checkpoint/challenge/AgFaBJDmPI8RkgAAAZmPUe00Xeapbjd37Lt5OQoe1TCsl4a7hY4JuHcoHj4Z2g7j_fFMO3o8PtMNGa_jnON2RABm9VfCBw?ut=2sBsEpfCgXmrY1\nüîÑ Still on login/captcha page: https://www.linkedin.com/checkpoint/challenge/AgFaBJDmPI8RkgAAAZmPUe00Xeapbjd37Lt5OQoe1TCsl4a7hY4JuHcoHj4Z2g7j_fFMO3o8PtMNGa_jnON2RABm9VfCBw?ut=2sBsEpfCgXmrY1\n‚úÖ LinkedIn login and captcha completed successfully!\nüç™ Extracting LinkedIn session cookies...\nüîç Auto-loading your profile...\n‚úÖ Profile loaded: Linus Wang (University of Michigan)\n{\"success\": true, \"message\": \"LinkedIn authentication completed successfully\", \"session_file\": \"linkedin_session_r64ofdmg3enans.pkl\"}"}
{"level":30,"time":1759046155507,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn authentication process finished with code: 0"}
{"level":30,"time":1759046155507,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn authentication result: success"}
{"level":30,"time":1759046155507,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"LinkedIn authentication successful"}
{"level":30,"time":1759046155509,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-1","res":{"statusCode":200},"responseTime":27965.365626998246,"msg":"request completed"}
{"level":30,"time":1759046156854,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-2","req":{"method":"OPTIONS","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":57336},"msg":"incoming request"}
{"level":30,"time":1759046156855,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-2","res":{"statusCode":204},"responseTime":1.297425001859665,"msg":"request completed"}
{"level":30,"time":1759046156862,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-3","req":{"method":"POST","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":57336},"msg":"incoming request"}
{"level":30,"time":1759046156866,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Parsed prompt \"Find SWE contacts at Amazon in Seattle\" -> Company: \"Amazon\", Role: \"SWE\", Location: \"Seattle\""}
{"level":30,"time":1759046156871,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Deleted old CSV file: amazon_swe_staff.csv"}
{"level":30,"time":1759046156873,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running StaffSpy for: SWE at Amazon using session r64ofdmg3enans"}
{"level":30,"time":1759046156873,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running LinkedIn scrape: SWE at Amazon"}
{"level":30,"time":1759046177959,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Scrape stdout: üîç Auto-loading your profile...\n‚úÖ Profile loaded: Linus Wang (University of Michigan)\n{\"success\": true, \"csv_file\": \"amazon_swe_staff.csv\", \"message\": \"Scraping completed successfully\"}"}
{"level":30,"time":1759046178069,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Successfully parsed 20 candidates from CSV"}
{"level":30,"time":1759046178070,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Using user profile for scoring: Linus Wang (University of Michigan)"}
Using LLM-powered scoring with Google AI
LLM scoring failed, falling back to enhanced scoring: Error: LLM API error: 404
    at scoreWithLLM [90m(/home/linusaw/mhacks/apps/api/[39msrc/services/scoring.ts:147:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at scoreCandidates [90m(/home/linusaw/mhacks/apps/api/[39msrc/services/scoring.ts:320:12[90m)[39m
    at Object.<anonymous> [90m(/home/linusaw/mhacks/apps/api/[39msrc/main.ts:910:24[90m)[39m
{"level":30,"time":1759046178284,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-3","res":{"statusCode":200},"responseTime":21421.87286300212,"msg":"request completed"}
{"level":30,"time":1759046267883,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-4","req":{"method":"OPTIONS","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":45366},"msg":"incoming request"}
{"level":30,"time":1759046267883,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-4","res":{"statusCode":204},"responseTime":0.29896800220012665,"msg":"request completed"}
{"level":30,"time":1759046267885,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-5","req":{"method":"POST","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":45366},"msg":"incoming request"}
{"level":30,"time":1759046267886,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Parsed prompt \"Find SWE workers at Meta\" -> Company: \"Meta\", Role: \"SWE\", Location: \"USA\""}
{"level":30,"time":1759046267886,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Deleted old CSV file: amazon_swe_staff.csv"}
{"level":30,"time":1759046267887,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running StaffSpy for: SWE at Meta using session r64ofdmg3enans"}
{"level":30,"time":1759046267887,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running LinkedIn scrape: SWE at Meta"}
{"level":30,"time":1759046288764,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Scrape stdout: üîç Auto-loading your profile...\n‚úÖ Profile loaded: Linus Wang (University of Michigan)\n{\"success\": true, \"csv_file\": \"meta_swe_staff.csv\", \"message\": \"Scraping completed successfully\"}"}
{"level":30,"time":1759046288871,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Successfully parsed 20 candidates from CSV"}
{"level":30,"time":1759046288872,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Using user profile for scoring: Linus Wang (University of Michigan)"}
Using LLM-powered scoring with Google AI
LLM scoring failed, falling back to enhanced scoring: Error: LLM API error: 404
    at scoreWithLLM [90m(/home/linusaw/mhacks/apps/api/[39msrc/services/scoring.ts:147:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at scoreCandidates [90m(/home/linusaw/mhacks/apps/api/[39msrc/services/scoring.ts:320:12[90m)[39m
    at Object.<anonymous> [90m(/home/linusaw/mhacks/apps/api/[39msrc/main.ts:910:24[90m)[39m
{"level":30,"time":1759046288980,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-5","res":{"statusCode":200},"responseTime":21094.920472994447,"msg":"request completed"}
{"level":30,"time":1759046384695,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-6","req":{"method":"OPTIONS","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":59118},"msg":"incoming request"}
{"level":30,"time":1759046384696,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-6","res":{"statusCode":204},"responseTime":0.42887499928474426,"msg":"request completed"}
{"level":30,"time":1759046384698,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-7","req":{"method":"POST","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":59118},"msg":"incoming request"}
{"level":30,"time":1759046384698,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Parsed prompt \"Find SWE workers at Agentmail\" -> Company: \"Agentmail\", Role: \"SWE\", Location: \"USA\""}
{"level":30,"time":1759046384699,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Deleted old CSV file: meta_swe_staff.csv"}
{"level":30,"time":1759046384699,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running StaffSpy for: SWE at Agentmail using session r64ofdmg3enans"}
{"level":30,"time":1759046384699,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running LinkedIn scrape: SWE at Agentmail"}
{"level":30,"time":1759046387427,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Scrape stdout: üîç Auto-loading your profile...\n‚úÖ Profile loaded: Linus Wang (University of Michigan)\n{\"success\": true, \"csv_file\": \"agentmail_swe_staff.csv\", \"message\": \"Scraping completed successfully\"}"}
{"level":30,"time":1759046387522,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Using user profile for scoring: Linus Wang (University of Michigan)"}
Using enhanced fallback scoring
{"level":30,"time":1759046387523,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-7","res":{"statusCode":200},"responseTime":2824.6171149984,"msg":"request completed"}
{"level":30,"time":1759046397798,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-8","req":{"method":"OPTIONS","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":59118},"msg":"incoming request"}
{"level":30,"time":1759046397798,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-8","res":{"statusCode":204},"responseTime":0.38785799592733383,"msg":"request completed"}
{"level":30,"time":1759046397805,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-9","req":{"method":"POST","url":"/search/run","hostname":"localhost:4000","remoteAddress":"127.0.0.1","remotePort":59118},"msg":"incoming request"}
{"level":30,"time":1759046397805,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Parsed prompt \"Find SWE workers at Google\" -> Company: \"Google\", Role: \"SWE\", Location: \"USA\""}
{"level":30,"time":1759046397806,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Deleted old CSV file: agentmail_swe_staff.csv"}
{"level":30,"time":1759046397806,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running StaffSpy for: SWE at Google using session r64ofdmg3enans"}
{"level":30,"time":1759046397806,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Running LinkedIn scrape: SWE at Google"}
{"level":30,"time":1759046418992,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Scrape stdout: üîç Auto-loading your profile...\n‚úÖ Profile loaded: Linus Wang (University of Michigan)\n{\"success\": true, \"csv_file\": \"google_swe_staff.csv\", \"message\": \"Scraping completed successfully\"}"}
{"level":30,"time":1759046419085,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Successfully parsed 20 candidates from CSV"}
{"level":30,"time":1759046419086,"pid":356081,"hostname":"DESKTOP-PMK73LQ","msg":"Using user profile for scoring: Linus Wang (University of Michigan)"}
Using LLM-powered scoring with Google AI
LLM scoring failed, falling back to enhanced scoring: Error: LLM API error: 404
    at scoreWithLLM [90m(/home/linusaw/mhacks/apps/api/[39msrc/services/scoring.ts:147:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at scoreCandidates [90m(/home/linusaw/mhacks/apps/api/[39msrc/services/scoring.ts:320:12[90m)[39m
    at Object.<anonymous> [90m(/home/linusaw/mhacks/apps/api/[39msrc/main.ts:910:24[90m)[39m
{"level":30,"time":1759046419197,"pid":356081,"hostname":"DESKTOP-PMK73LQ","reqId":"req-9","res":{"statusCode":200},"responseTime":21391.72184599936,"msg":"request completed"}
